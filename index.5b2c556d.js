function e(){return document.querySelector('input[name="unit"]:checked').value}function t(t){let i=e();fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${t}&appid=f1a7f601f87c9d97579ef8237cc83ff1&units=${i}`).then(e=>e.json()).then(t=>{let i=t.list.reduce((e,t)=>{let i=t.dt_txt.split(" ")[0];return e[i]||(e[i]=[]),e[i].push(t),e},{});(function(t){let i=document.getElementById("forecast"),n="metric"===e()?"°C":"°F";for(let d in i.innerHTML="",t){let a=t[d],l=Math.min(...a.map(e=>e.main.temp_min)),r=Math.max(...a.map(e=>e.main.temp_max)),o=document.createElement("div");o.classList.add("day");let c=`https://openweathermap.org/img/w/${a[0].weather[0].icon}.png`;o.innerHTML=`
            <div>${new Date(1e3*a[0].dt).toDateString()}</div>
            <img src="${c}" alt="${a[0].weather[0].description}">
            <div>Min Temp: ${l}${n}</div>
            <div>Max Temp: ${r}${n}</div>
        `,o.addEventListener("click",function(){(function(t){let i=document.getElementById("weatherInfo"),n="metric"===e()?"°C":"°F";i.innerHTML="",t.forEach(e=>{let t=document.createElement("div"),d=new Date(1e3*e.dt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),a=e.main.temp,l=e.weather[0].description,r=e.clouds.all,o=e.wind.speed,c=e.visibility/1e3,m=`https://openweathermap.org/img/w/${e.weather[0].icon}.png`;t.innerHTML=`
            <div>${d}</div>
            <img src="${m}" alt="${l}">
            <div>Temperature: ${a}${n}</div>
            <div>Description: ${l}</div>
            <div>Clouds: ${r}% <img src="cloud-icon.png" alt="Clouds"></div>
            <div>Wind Speed: ${o} m/s <img src="wind-icon.png" alt="Wind"></div>
            <div>Visibility: ${c} km <img src="visibility-icon.png" alt="Visibility"></div>
        `,i.appendChild(t)}),i.classList.remove("hide")})(a)}),i.appendChild(o)}})(i),function(e){let t=Object.keys(e),i=[],n=[],d=[],a=[];for(let t in e){let l=e[t],r=l.reduce((e,t)=>e+t.main.temp,0)/l.length,o=l.reduce((e,t)=>e+t.main.humidity,0)/l.length,c=l.reduce((e,t)=>e+t.wind.speed,0)/l.length,m=l.reduce((e,t)=>e+t.main.pressure,0)/l.length;i.push(r),n.push(o),d.push(c),a.push(m)}new Chart(document.getElementById("weatherChart").getContext("2d"),{type:"line",data:{labels:t,datasets:[{label:"Temperature (°C)",data:i,borderColor:"orange",fill:!1},{label:"Humidity (%)",data:n,borderColor:"blue",fill:!1},{label:"Wind Speed (m/s)",data:d,borderColor:"black",fill:!1},{label:"Pressure (hPa)",data:a,borderColor:"green",fill:!1}]},options:{responsive:!0,scales:{x:{display:!0,title:{display:!0,text:"Date"}},y:{display:!0,title:{display:!0,text:"Value"}}}}})}(i)}).catch(e=>{console.error("Error fetching data:",e)})}document.getElementById("searchForm").addEventListener("submit",function(e){e.preventDefault(),t(document.getElementById("cityInput").value)}),document.querySelectorAll('input[name="unit"]').forEach(e=>{e.addEventListener("change",function(){let e=document.getElementById("cityInput").value;e&&t(e)})}),document.getElementById("showGraphBtn").addEventListener("click",function(){document.getElementById("weatherChart").style.display="block"});
//# sourceMappingURL=index.5b2c556d.js.map
